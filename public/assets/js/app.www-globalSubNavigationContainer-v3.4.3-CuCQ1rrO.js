import{p as h,H as f,h as l,a as k,_ as m,o as p,c as S}from"./app.www-app-v3.4.3-C-zFE1j6.js";const y='.g__sub-nav__link-text,.g__sub-nav{font-family:"Superscripts-Roboto", "Roboto", "Noto Sans TC", "Noto Sans SC", "Noto Sans JP", "Noto Sans KR", "Prompt", sans-serif}.g__sub-nav__link--active{font-family:"Superscripts-Oswald", "Oswald", "Roboto Condensed", "Roboto", "Noto Sans TC", "Noto Sans SC", "Noto Sans JP", "Noto Sans KR", "Prompt", sans-serif;font-weight:400;letter-spacing:0.05rem}.g__sub-nav{box-sizing:border-box;position:relative;overflow-x:auto;display:flex;justify-content:center;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;-ms-overflow-style:none}.g__sub-nav::-webkit-scrollbar{display:none}.g__sub-nav--content-overflow{justify-content:flex-start}.g__sub-nav--white{background:#fff;border-bottom:solid 1px #d9d9d9;color:#000}.g__sub-nav--light-gray{background:#eee;border-bottom:solid 1px #d9d9d9;color:#000}.g__sub-nav--dark-gray{background:#333333}.g__sub-nav--black{background:#000}.g__sub-nav__link{font-size:0.875rem;letter-spacing:0.02rem;text-transform:uppercase;display:flex;flex-direction:column;align-items:center}.g__sub-nav__link:link,.g__sub-nav__link:visited,.g__sub-nav__link:hover,.g__sub-nav__link:focus,.g__sub-nav__link:active{color:#fff;text-decoration:none}.g__sub-nav__link-text{text-align:center;white-space:nowrap}.g__sub-nav__link-icon{height:50px;align-content:center;margin-bottom:1rem}.g__sub-nav__link-icon--fill svg path{fill:#fff}.g__sub-nav__link-icon--stroke svg path{stroke:#fff}.g__sub-nav__link--active{color:#fff;text-decoration:none;text-transform:uppercase;display:flex;flex-direction:column;align-items:center}.g__sub-nav__link--active::after{height:0.25rem;width:100%;margin-top:0.5rem;background:#fff;content:""}.g__sub-nav--white .g__sub-nav__link:link,.g__sub-nav--white .g__sub-nav__link:visited,.g__sub-nav--white .g__sub-nav__link:hover,.g__sub-nav--white .g__sub-nav__link:focus,.g__sub-nav--white .g__sub-nav__link:active,.g__sub-nav--light-gray .g__sub-nav__link:link,.g__sub-nav--light-gray .g__sub-nav__link:visited,.g__sub-nav--light-gray .g__sub-nav__link:hover,.g__sub-nav--light-gray .g__sub-nav__link:focus,.g__sub-nav--light-gray .g__sub-nav__link:active{color:#000}.g__sub-nav--white .g__sub-nav__link-icon--fill svg path,.g__sub-nav--light-gray .g__sub-nav__link-icon--fill svg path{fill:#000}.g__sub-nav--white .g__sub-nav__link-icon--stroke svg path,.g__sub-nav--light-gray .g__sub-nav__link-icon--stroke svg path{stroke:#000}.g__sub-nav--base .g__sub-nav__link{padding:1rem 2rem 0}.g__sub-nav--base .g__sub-nav__link-text{padding-bottom:1rem}.g__sub-nav--base .g__sub-nav__link--active .g__sub-nav__link-text{padding-bottom:0.5rem}.g__sub-nav--white .g__sub-nav__link--active::after,.g__sub-nav--light-gray .g__sub-nav__link--active::after{background:#000}.g__sub-nav--gray .g__sub-nav__link--active::after,.g__sub-nav--black .g__sub-nav__link--active::after{background:#fff}.candy-blue.g__sub-nav__link--active::after{background:#6dcff6}.g__sub-nav--icon{padding:1rem 0}.g__sub-nav--icon .g__sub-nav__link{margin:0;padding:1rem 2rem}',w=y,x=h(class extends f{constructor(){super(),this.__registerHost(),this.backgroundColor="light-gray",this.type="base",this.blueActiveLink=!0,this.colorize="fill",this.links=[],this.isSideScrolling=!1,this.windowWidth=0,this.dataTestId=void 0}handleWindowResize(){this.updateMobileNav()}setWindowWidth(){this.windowWidth=document.documentElement.clientWidth}updateMobileNav(){const e="g__sub-nav--content-overflow",i=this.el.querySelector("nav");if(!i)return;const t=i.lastChild;if(!t)return;const a=t.offsetLeft+t.clientWidth;if(this.setWindowWidth(),a>=this.windowWidth){if(i.classList.add(e),!this.isSideScrolling){const s=i.querySelector(".g__sub-nav__link--active");s&&(i.scrollLeft+=s.offsetLeft)}this.isSideScrolling=!0}else this.isSideScrolling=!1,i.classList.remove(e)}componentWillLoad(){this.setWindowWidth()}componentDidLoad(){this.updateMobileNav()}render(){var e,i,t;const a="g__sub-nav",s={[a]:!0,[`${a}--${this.type}`]:!!this.type,[`${a}--${this.backgroundColor.toLowerCase()}`]:!!this.backgroundColor},b={"g__sub-nav__link-icon":!0,[`g__sub-nav__link-icon--${this.colorize}`]:!!this.colorize};return l(k,{key:"55a645ce92a4791e820d8b6cde2fd79887d1feb7","data-testid":(i=(e=this.dataTestId)===null||e===void 0?void 0:e.host)!==null&&i!==void 0?i:a},l("nav",{key:"c8731e95ac3b213bcd634c2f6deed892dd1f590e",class:s,"data-testid":(t=this.dataTestId)===null||t===void 0?void 0:t.nav},this.links.map((o,_)=>{var r,d,c,u,v,g;return l("a",{key:o.id,class:{"g__sub-nav__link":!0,"candy-blue":this.blueActiveLink,"g__sub-nav__link--active":!!o.activeLink},href:o.linkUrl,"data-testid":(d=(r=this.dataTestId)===null||r===void 0?void 0:r.linkIds)===null||d===void 0?void 0:d[_]},o.iconSvg&&l("span",{class:b,"data-testid":(u=(c=this.dataTestId)===null||c===void 0?void 0:c.iconTexts)===null||u===void 0?void 0:u[_],innerHTML:o.iconSvg}),l("span",{class:"g__sub-nav__link-text",innerHTML:o.linkText,"data-testid":(g=(v=this.dataTestId)===null||v===void 0?void 0:v.linkTexts)===null||g===void 0?void 0:g[_]}))})))}get el(){return this}static get style(){return w}},[0,"g-sub-nav",{backgroundColor:[1,"background-color"],type:[1],blueActiveLink:[4,"blue-active-link"],colorize:[1],links:[16],dataTestId:[16],isSideScrolling:[32],windowWidth:[32]},[[9,"resize","handleWindowResize"]]]),N=x;customElements.get("g-sub-nav")||customElements.define("g-sub-nav",N);const C={name:"GlobalSubNavigationContainer",components:{GSubNav:"g-sub-nav"},props:{content:{type:Object,default:()=>{}}},data(){return{windowWidth:0,isSideScrolling:!1,matches:[]}},computed:{fields(){return this.content.fields||{}},subNavId(){return this.fields.internalName.replaceAll(" ","")},backgroundColor(){switch(this.fields.backgroundColor){case"LightGray":return"light-gray";case"DarkGray":return"dark-gray";case"White":return"white";case"Black":return"black";default:return}},type(){return this.fields.type},links(){const n=this.fields.links||[];n.forEach(t=>{this.isActiveLink(t)});const e=Math.max(...this.matches.map(t=>t.matchScore)),i=this.matches.filter(t=>e&&t.matchScore===e).map(t=>t.id);return n.map(t=>({activeLink:i.includes(t.sys.id),iconSvg:t.fields.iconSvg,id:t.sys.id,linkText:t.fields.linkText,linkUrl:t.fields.linkUrl}))}},mounted(){this.$nextTick(()=>{window.addEventListener("resize",this.updateMobileNav),document.getElementById(this.subNavId).addEventListener("load",()=>{this.updateMobileNav()})})},updated(){document.getElementById(this.subNavId).querySelector("nav")&&this.updateMobileNav()},methods:{isActiveLink(n){let e=n.fields.linkUrl;try{e=new URL(n.fields.linkUrl).pathname}catch{}if(window.location.pathname===e)this.matches.push({id:n.sys.id,matchScore:100});else if(window.location.pathname.startsWith(e)){const i=e.split("/").length;this.matches.push({id:n.sys.id,matchScore:i})}else this.matches.push({id:n.sys.id,matchScore:0})},updateMobileNav(){this.windowWidth=document.documentElement.clientWidth;const n=this.subNavId,e=document.getElementById(n).querySelector("nav");e.lastChild.offsetLeft+e.lastChild.clientWidth>=this.windowWidth?this.isSideScrolling=!0:this.isSideScrolling=!1}}},W=["id","background-color","is-side-scrolling",".links","type","blue-active-link"];function L(n,e,i,t,a,s){return p(),S("g-sub-nav",{id:s.subNavId,"background-color":s.backgroundColor,"is-side-scrolling":a.isSideScrolling,".links":s.links,type:s.type,"blue-active-link":s.fields.blueActiveLink},null,40,W)}const E=m(C,[["render",L]]);export{E as default};
