//tealium universal tag - utag.150 ut4.0.202508041635, Copyright 2025 Tealium.com Inc. All Rights Reserved.
var _paq=window._paq=window._paq||[];try{(function(id,loader){var u={id:id};utag.o[loader].sender[id]=u;u.ev={view:1,link:1};u.initialized=false;u.scriptrequested=false;u.toBoolean=function(val){val=val||"";return val===true||val.toLowerCase()==="true"||val.toLowerCase()==="on";};u.clearEmptyKeys=function(object){Object.keys(object).forEach(function(key){if(object[key]===''||object[key]===undefined){delete object[key];}});return object;};u.mapFunc=function(arr,obj,item){var i=arr.shift();obj[i]=obj[i]||{};if(arr.length>0){u.mapFunc(arr,obj[i],item);}else{obj[i]=item;}};u.EVENT={productView:'productView',categoryViews:'categoryViews',addToCart:'addToCart',removeFromCart:'removeFromCart',purchase:'trackEcommerceOrder',resetUserId:'resetUserId',trackGoal:'trackGoal',trackSiteSearch:'trackSiteSearch',trackLink:'trackLink',setCustomDimension:'setCustomDimension',deleteCustomDimension:'deleteCustomDimension',trackEvent:'trackEvent'};u.EVENTS_LIST={productView:{defaultParameters:['product_sku','product_name','product_category','product_unit_price'],mandatoryParameters:['product_sku']},categoryViews:{defaultParameters:['product_category'],mandatoryParameters:[]},addToCart:{defaultParameters:['product_sku','product_name','product_category','product_unit_price','product_quantity'],mandatoryParameters:['product_sku']},removeFromCart:{defaultParameters:['product_sku'],mandatoryParameters:['product_sku']},purchase:{defaultParameters:['order_id','grand_total','order_total','order_tax','order_shipping','order_discount'],mandatoryParameters:['order_id','grand_total']},resetUserId:{defaultParameters:[],mandatoryParameters:[]},trackGoal:{defaultParameters:['goal_index'],mandatoryParameters:['goal_index']},trackSiteSearch:{defaultParameters:['searchKeyword','searchCategory','searchResultsCount'],mandatoryParameters:['searchKeyword']},trackLink:{defaultParameters:['linkURL','linkType'],mandatoryParameters:['linkURL']},setCustomDimension:{defaultParameters:['custom_dimension_index','custom_dimension_value'],mandatoryParameters:['custom_dimension_index']},deleteCustomDimension:{defaultParameters:['custom_dimension_index'],mandatoryParameters:['custom_dimension_index']},trackEvent:{defaultParameters:["eventCategory","eventAction","eventName","eventValue"],mandatoryParameters:["eventCategory","eventAction"]}};u.prepareParametertsObject=function(event){var parametersObject=u.data[event]||{};if(u.EVENTS_LIST.hasOwnProperty(event)){u.EVENTS_LIST[event].defaultParameters.forEach(function(parameter){if(!parametersObject[parameter]){parametersObject[parameter]=u.data[parameter];}});parametersObject=u.clearEmptyKeys(parametersObject);}
return parametersObject;};u.prepareParamArray=function(eventParametersObject,event){return event.map(function(parameter){return eventParametersObject[parameter];});};u.prepareParamArrayFromMultipleArray=function(eventParametersObject,event,index){return event.map(function(parameter){if(parameter==='product_quantity'&&!eventParametersObject[parameter][index]){eventParametersObject[parameter][index]=1;}
return eventParametersObject[parameter][index]||null;});};u.addCustomDimensionsParameters=function(eventParametersObject,array){var dimensionsParameters={};Object.keys(eventParametersObject).forEach(function(key){if(key.indexOf('dimension')!==-1){dimensionsParameters[key]=eventParametersObject[key];}});if(Object.keys(dimensionsParameters).length){array.push(dimensionsParameters);}
return array;};u.loaderCallback=function(){utag.DB('send:150:CALLBACK');u.initialized=true;if(u.toBoolean(u.data.track_subdomains)){_paq.push(["setCookieDomain",window.location.hostname]);}
if(u.toBoolean(u.data.prepend_site_domain)){_paq.push(["setDocumentTitle",document.domain+"/"+document.title]);}
if(u.toBoolean(u.data.set_alias_urls)){_paq.push(['setDomains',u.data.alias_urls]);}
u.callback();utag.DB('send:150:CALLBACK:COMPLETE');};u.callback=function(){u.data.events.forEach(function(eventName){u.sendEvent(eventName);});};u.sendEvent=function(eventName){var eventParametersObject=u.prepareParametertsObject(eventName);var parametersArray=u.prepareParamArray(eventParametersObject,u.EVENTS_LIST[eventName].defaultParameters);switch(eventName){case u.EVENT.productView:{eventParametersObject.product_sku.forEach(function(param,index){var productViewParameters=u.prepareParamArrayFromMultipleArray(eventParametersObject,u.EVENTS_LIST[eventName].defaultParameters,index);productViewParameters.unshift('setEcommerceView');_paq.push(productViewParameters);_paq.push(['trackPageView']);});break;}
case u.EVENT.addToCart:{eventParametersObject.product_sku.forEach(function(param,index){var addToCartParameters=u.prepareParamArrayFromMultipleArray(eventParametersObject,u.EVENTS_LIST[eventName].defaultParameters,index);addToCartParameters.unshift('addEcommerceItem');_paq.push(addToCartParameters);});_paq.push(['trackEcommerceCartUpdate',u.data.order_total]);break;}
case u.EVENT.categoryViews:{eventParametersObject.product_category.forEach(function(param,index){_paq.push(['setEcommerceView',false,false,eventParametersObject.product_category[index]]);_paq.push(['trackPageView']);});break;}
case u.EVENT.removeFromCart:{eventParametersObject.product_sku.forEach(function(param){_paq.push(['removeEcommerceItem',param]);});_paq.push(['trackEcommerceCartUpdate',u.data.order_total]);break;}
default:{var checkPassed=true;if(u.EVENTS_LIST[eventName]&&u.EVENTS_LIST[eventName].mandatoryParameters){u.EVENTS_LIST[eventName].mandatoryParameters.forEach(function(mandatoryParameter){if(!eventParametersObject.hasOwnProperty(mandatoryParameter)){utag.DB("The '"+eventName+"' event failed because a required parameter '"+mandatoryParameter+"' was missing");checkPassed=false;return;}});}
if(checkPassed){parametersArray=u.addCustomDimensionsParameters(eventParametersObject,parametersArray);parametersArray.unshift(u.EVENT[eventName]);_paq.push(parametersArray);}}}};u.map={"tealium_event:add_to_cart":"addToCart,trackEvent","tealium_event:remove_from_cart":"removeFromCart","tealium_event":"eventName,custom_dimension_4,trackEvent.dimension4","tealium_event:top_nav":"trackEvent","tealium_event:view_promotion":"trackEvent","tealium_event:add_payment_info":"trackEvent","tealium_event:add_shipping_info":"trackEvent","tealium_event:view_cart":"trackEvent","tealium_event:begin_checkout":"trackEvent","tealium_event:gen_nav":"trackEvent","tealium_event:ps_generic_view":"trackEvent","tealium_event:support_web_manual_bar_click":"trackEvent","tealium_event:support_manual_html":"trackEvent","tealium_event:amc_smc_click":"trackEvent","tealium_event:track_order":"trackEvent","tealium_event:submit_return":"trackEvent","tealium_event:which_watch":"trackEvent","tealium_event:watch_shop":"trackEvent","tealium_event:solution_select":"trackEvent","tealium_event:faq_select":"trackEvent","tealium_event:footer_click":"trackEvent","tealium_event:garmin_nav":"trackEvent","tealium_event:social_nav":"trackEvent","tealium_event:find_dealer":"trackEvent","tealium_event:dealer_search":"trackEvent","tealium_event:dealer_select":"trackEvent","tealium_event:ywyw_select_watch":"trackEvent","tealium_event:ywyw_select_case":"trackEvent","tealium_event:ywyw_select_band":"trackEvent","tealium_event:ywyw_nav":"trackEvent","tealium_event:site_search":"trackSiteSearch","tealium_event:pdp_menu_select":"trackEvent","tealium_event:video_start":"trackEvent","tealium_event:video_progress":"trackEvent","tealium_event:video_complete":"trackEvent","tealium_event:filter_click":"trackEvent","tealium_event:view_item":"trackEvent,productView","tealium_event:purchase":"addToCart,purchase","tealium_event:select_item":"trackEvent","tealium_event:select_promotion":"trackEvent","tealium_event:view_search_results":"trackEvent","tealium_event:www_banner_click":"trackEvent","tealium_event:slider_click":"trackEvent","event_value":"eventValue","customer_id":"user_id","currency_code":"trackEvent.dimension6,productView.dimension6,categoryViews.dimension6,addToCart.dimension6,removeFromCart.dimension6,purchase.dimension6,trackGoal.dimension6,trackSiteSearch.dimension6,trackLink.dimension6,custom_dimension_6","ps_sas_source":"custom_dimension_8,trackEvent.dimension8,productView.dimension8,categoryViews.dimension8,addToCart.dimension8,removeFromCart.dimension8,purchase.dimension8,resetUserId.dimension8,trackGoal.dimension8,trackSiteSearch.dimension8,trackLink.dimension8","employee_flag":"custom_dimension_7,trackEvent.dimension7,productView.dimension7,categoryViews.dimension7,addToCart.dimension7,removeFromCart.dimension7,purchase.dimension7,resetUserId.dimension7,trackGoal.dimension7,trackSiteSearch.dimension7,trackLink.dimension7","login_status":"custom_dimension_1,trackEvent.dimension1,productView.dimension1,categoryViews.dimension1,addToCart.dimension1,removeFromCart.dimension1,purchase.dimension1,resetUserId.dimension1,trackGoal.dimension1,trackSiteSearch.dimension1,trackLink.dimension1","initiator":"custom_dimension_9,trackEvent.dimension9,productView.dimension9,categoryViews.dimension9,addToCart.dimension9,removeFromCart.dimension9,purchase.dimension9,resetUserId.dimension9,trackGoal.dimension9,trackSiteSearch.dimension9,trackLink.dimension9","link_type":"eventCategory","ut.event":"eventAction,productView.eventAction,categoryViews.eventAction,removeFromCart.eventAction,addToCart.eventAction,purchase.eventAction","product_category":"productView.product_category,categoryViews.product_category,addToCart.product_category,removeFromCart.product_category,purchase.product_category,product_category","product_name":"productView.product_name,categoryViews.product_name,addToCart.product_name,removeFromCart.product_name,purchase.product_name,product_name","product_quantity":"productView.product_quantity,categoryViews.product_quantity,addToCart.product_quantity,removeFromCart.product_quantity,purchase.product_quantity,product_quantity","product_sku":"productView.product_sku,categoryViews.product_sku,addToCart.product_sku,removeFromCart.product_sku,purchase.product_sku,product_sku","product_list_price":"productView.product_unit_price,categoryViews.product_unit_price,addToCart.product_unit_price,removeFromCart.product_unit_price,purchase.product_unit_price,product_unit_price","order_id":"order_id,purchase.order_id","order_total":"order_total,purchase.order_total","order_discount":"product_discount,purchase.product_discount","order_subtotal":"grand_total,purchase.grand_total","order_tax":"order_tax,purchase.order_tax","order_shipping":"order_shipping,purchase.order_shipping","product_original_price":"product_unit_price,productView.product_unit_price","page_name":"custom_dimension_2,trackEvent.dimension2,productView.dimension2,categoryViews.dimension2,addToCart.dimension2,removeFromCart.dimension2,purchase.dimension2,resetUserId.dimension2,trackGoal.dimension2,trackSiteSearch.dimension2,trackLink.dimension2","ps_tier2_interaction_id":"custom_dimension_3,trackEvent.dimension3,productView.dimension3,categoryViews.dimension3,addToCart.dimension3,removeFromCart.dimension3,purchase.dimension3,resetUserId.dimension3,trackGoal.dimension3,trackSiteSearch.dimension3,trackLink.dimension3","ps_user":"custom_dimension_10,trackEvent.dimension10,productView.dimension10,categoryViews.dimension10,addToCart.dimension10,removeFromCart.dimension10,purchase.dimension10,resetUserId.dimension10,trackGoal.dimension10,trackSiteSearch.dimension10,trackLink.dimension10","page_type":"purchase.eventCategory,eventCategory,productView.eventCategory,categoryViews.eventCategory,addToCart.eventCategory,removeFromCart.eventCategory","matomo_dim_index":"custom_dimension_index","matomo_dim_value":"custom_dimension_value","matomo_page_blocker":"send_page_view"};u.extend=[];u.send=function(utag_event,data_layer){if(!u.ev[utag_event]&&u.ev.all===undefined){utag.DB('send:150:EVENT NOT SUPPORTED:COMPLETE');return;}
utag.DB('send:150');utag.DB(data_layer);var a,b,c,d,e,f,g,h,query_params;a=utag_event;b=data_layer;u.data={tracker_url:'//matomo.garmin.com/',site_id:'69',track_subdomains:'true',send_page_view:'true',prepend_site_domain:'false',set_alias_urls:'',base_url:'##utag_tracker_url##matomo.js',alias_urls:'',user_id:'',searchKeyword:'',searchCategory:'',searchResultsCount:'',linkURL:'',linkType:'',goal_index:'',eventCategory:'',eventAction:'',eventName:'',eventValue:'',product_sku:[],product_name:[],product_category:[],product_unit_price:[],product_quantity:[],order_discount:[],order_id:'',grand_total:'',order_total:'',order_tax:'',order_shipping:'',custom_dimension_index:'',custom_dimension_value:'',custom:{},events:[]};utag.DB('send:150:EXTENSIONS');utag.DB(data_layer);query_params=[];Object.keys(utag.loader.GV(u.map)).forEach(function(mapping_key){if(data_layer[mapping_key]!==undefined&&data_layer[mapping_key]!==''){var destinations=u.map[mapping_key].split(',');destinations.forEach(function(parameter){u.mapFunc(parameter.split('.'),u.data,data_layer[mapping_key]);});}else{var event_destinations=mapping_key.split(':');if(event_destinations.length===2&&String(data_layer[event_destinations[0]])===String(event_destinations[1])){if(u.map[mapping_key]){u.data.events=u.data.events.concat(u.map[mapping_key].split(','));}}}});utag.DB('send:150:MAPPINGS');utag.DB(u.data);var eCommerceMapping=[{eCommerceData:data_layer._csku,name:'product_sku',isArray:true},{eCommerceData:data_layer._cprodname,name:'product_name',isArray:true},{eCommerceData:data_layer._ccat,name:'product_category',isArray:true},{eCommerceData:data_layer._cprice,name:'product_unit_price',isArray:true},{eCommerceData:data_layer._cquan,name:'product_quantity',isArray:true},{eCommerceData:data_layer._corder,name:'order_id',isArray:false},{eCommerceData:data_layer._csubtotal,name:'grand_total',isArray:false},{eCommerceData:data_layer._ctotal,name:'order_total',isArray:false},{eCommerceData:data_layer._ctax,name:'order_tax',isArray:false},{eCommerceData:data_layer._cship,name:'order_shipping',isArray:false},];eCommerceMapping.forEach(function(dataObject){if(!dataObject.isArray){u.data[dataObject.name]=u.data[dataObject.name]||dataObject.eCommerceData||'';}else if(u.data[dataObject.name].length===0&&dataObject.eCommerceData!==undefined&&dataObject.isArray){u.data[dataObject.name]=dataObject.eCommerceData.slice(0);}});if(!u.data.tracker_url){utag.DB(u.id+": Tag not fired: Required attribute 'tracker_url' not populated");return;}
if(!u.data.site_id){utag.DB(u.id+": Tag not fired: Required attribute 'site_id' not populated");return;}
u.data.base_url=u.data.base_url.replace('##utag_tracker_url##',u.data.tracker_url);if(u.initialized){u.callback();}else{if(!u.scriptrequested){if(u.toBoolean(u.data.send_page_view)){_paq.push(['trackPageView']);}
_paq.push(['enableLinkTracking']);_paq.push(['setSiteId',u.data.site_id]);_paq.push(['setTrackerUrl',u.data.tracker_url+'matomo.php']);if(u.data.user_id){_paq.push(['setUserId',u.data.user_id]);}
u.scriptrequested=true;utag.ut.loader({type:'script',src:u.data.base_url,cb:u.loaderCallback,loc:'script',id:'utag_150',attrs:{}});}}
utag.DB('send:150:COMPLETE');};utag.o[loader].loader.LOAD(id);}('150','garmin.primary'));}catch(error){utag.DB(error);}
