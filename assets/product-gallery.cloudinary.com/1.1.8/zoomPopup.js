/*!
 * Cloudinary --> Product Gallery Widget
 * build: 1.1.8
 * ** /
 */
"use strict";(self.webpackChunk_cld_gallery_widget=self.webpackChunk_cld_gallery_widget||[]).push([[571],{3326:function(o,e,t){t.r(e),t.d(e,{default:function(){return y}});var n=t(7462),i=t(4942),s=t(6400),d=t(9748),r=t(6281),l=t(5335),h=t(1381),p=t(2175),m=t(5088),c=t(3234),a=o=>m.isMobile?(0,s.h)(s.HY,null,o.children):(0,s.h)(c.ZP,{returnFocus:{preventScroll:!0},autoFocus:!0},o.children),u=t(7681),w=t(7927);class v extends s.wA{constructor(...o){super(...o),(0,i.Z)(this,"popupTransformation",{crop:"limit"}),(0,i.Z)(this,"close",(o=>{this.props.onClose&&this.props.onClose(o)}))}componentDidMount(){this.bodyOverflow=document.body.style.overflow,document.body.style.overflow="hidden"}componentWillUnmount(){document.body.style.overflow=this.bodyOverflow}render(o){const{config:e}=o.context,t=(o=>({popup:(0,l.iv)({backgroundColor:(0,w._)(o.backdropColor,o.backdropOpacity),color:"#fff",position:"fixed",top:0,right:0,bottom:0,left:0,overflow:"hidden",zIndex:o.zIndex,"& > div":{width:"100%",height:"100%"}}),close:(0,l.iv)({position:"absolute",top:5,right:5,zIndex:o.zIndex+1,"& svg path":{fill:(0,w._)(o.buttonColor),stroke:(0,w._)(o.buttonIconColor),strokeWidth:"0.5px"}}),zoomWrap:(0,l.iv)({width:"100%",height:"100%","&, & > div":{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"auto"},"& img":{maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto",zIndex:0}})}))(o);return(0,d.jz)((0,s.h)("div",{role:"dialog","data-test":"popup",className:t.popup,onKeyDown:o.keyDownHandler},(0,s.h)(a,null,(0,s.h)(p.Z,(0,n.Z)({},(0,h._)(o),{icon:"close",className:t.close,onClick:this.close})),(0,s.h)("div",{className:(0,l.cx)(t.zoomWrap)},(0,s.h)(u.Z,{index:o.index,items:e.selectMediaAssets(),width:window.innerWidth,height:window.innerHeight,transformation:this.popupTransformation,prevItem:o.prevItem,nextItem:o.nextItem,onItemSwipe:o.onItemSwipe,setZoom:o.setZoom,inPopup:!0})))),document.body)}}var f=(0,r.l)(v);class x extends d.Vx{constructor(...o){super(...o),(0,i.Z)(this,"state",{isZoomed:!1}),(0,i.Z)(this,"handleEsc",(o=>{"Escape"===o.key&&(this.zoomOut(),o.preventDefault())})),(0,i.Z)(this,"zoomIn",(()=>{this.setState({isZoomed:!0}),document.body.addEventListener("keydown",this.handleEsc)})),(0,i.Z)(this,"zoomOut",(()=>{this.props.setZoom(-1),this.setState({isZoomed:!1}),document.body.removeEventListener("keydown",this.handleEsc)}))}componentDidUpdate(o){o.zoomIn!==this.props.zoomIn&&(this.props.zoomIn?this.zoomIn():this.zoomOut())}componentWillUnmount(){this.zoomOut(),document.body.removeEventListener("keydown",this.handleEsc)}render(o,e){const{config:t}=o.context;return e.isZoomed?(0,s.h)(f,(0,n.Z)({onClose:this.zoomOut,index:o.index,prevItem:o.prevItem,nextItem:o.nextItem,onItemSwipe:o.onItemSwipe,keyDownHandler:o.keyDownHandler,setZoom:o.setZoom},t.selectZoomPopupProps())):null}}var y=(0,r.l)(x)}}]);
//# sourceMappingURL=zoomPopup.js.map